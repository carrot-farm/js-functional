<script>const log = console.log;</script>

 <!-- ==================================
 # 평가
 - 코드가 계산(Evaluation) 되어 값을 만드는 것.
 eg) [2, 3+3] => [2, 6] 과 같은 형태로 평가됨.
================================== -->

<!-- ==================================
  # 일급
  - 값으로 다룰 수 있다.
  - 변수에 담을 수 있다.
  - 함수의 인자로 사용될 수 있다.
  - 함수의 결과로 사용될 수 있다.
================================== -->
<script>
  const a = 10; // 값으로 다루고 변수에 담을 수 있다.
  const add10 = a => a + 10; // 함수의 인자로 사용될 수 있다.
  const r = add10(a); // 함수의 결과로 사용될 수 있다.
  log(r);
</script>

<!-- ==================================
  # 일급 함수
    - 함수를 값으로 다룰 수 있다.
    - 조합성과 추상화의 도구
  ================================== -->
<script>
  const add5 = a => a + 5;
  log(add5); // 함수를 값으로 다룰 수 있음.
  log(add5(5)); // 함수를 평가해서 결과를 다룰 수 있다.

  // 다시 함수의 결과로 함수를 리턴하는 것이 가능.
  const f1 = () => () => 1;
  log(f1()); // () => 1;

  // 함수를 리턴받아 원하는 시점에 평가하는 것이 가능.
  const f2 = f1();
  log(f2); // () => 1;
  log(f2()); // 변수에 받은 함수를 원하는 시점에 평가.
</script>


<!-- ==================================
  # 고차 함수
    - 함수를 값으로 다루는 함수
    - 2가지의 형태가 있다.
      . 함수를 인자로 받아서 실행하는 함수.
      . 함수를 만들어서 리턴하는 함수.
  ================================== -->
<script>
  // ===== 함수를 인자로 받아서 실행하는 함수.
  const apply1 = f => f(1);
  // apply1을 풀어 봤을 경우.
  // const apply1 = f => (a => a +2)(1);
  const add2 = a => a + 2;
  log(apply1(add2)); // 3
  log(apply1(a => a - 1 )); // 0

  // 지정된 횟수 만큼 함수를 실행하는 함수.
  const times = (f, n) => {
    let i = -1;
    while(++i < n){
      f(i);
    }
  };
  times(log, 3); // 0, 1, 2
  times(a => log(a + 10), 3); // 10, 11, 12
</script>
<script>
  // ===== 함수를 만들어서 리턴하는 함수 (클로저를 만들어서 리턴하는 함수)
  const addMaker = a => b => a + b;
  const add10 = addMaker(10);
  log(add10); // b => a + b
  log(add10(5)); // 15
  log(add10(10)); // 20
</script>


